<!DOCTYPE html> <html lang="en"> <head> <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"> <meta charset="utf-8"> <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"> <meta http-equiv="X-UA-Compatible" content="IE=edge"> <title>My US Stock Holdings | Tianyang Liu</title> <meta name="author" content="Tianyang Liu"> <meta name="description" content="A concise log of my current holdings in US stocks, updated regularly to monitor value shifts, industry performance, and overall returns."> <link href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha256-DF7Zhf293AJxJNTmh5zhoYYIMs2oXitRfBjY+9L//AY=" crossorigin="anonymous"> <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/css/mdb.min.css" integrity="sha256-jpjYvU3G3N6nrrBwXJoVEYI/0zw8htfFnhT9ljN3JJw=" crossorigin="anonymous"> <link defer rel="stylesheet" href="https://unpkg.com/bootstrap-table@1.21.4/dist/bootstrap-table.min.css"> <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.4.0/css/all.min.css" integrity="sha256-HtsXJanqjKTc8vVQjO4YMhiqFoXkfBsjBWcX91T1jr8=" crossorigin="anonymous"> <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/academicons@1.9.1/css/academicons.min.css" integrity="sha256-i1+4qU2G2860dGGIOJscdC30s9beBXjFfzjWLjBRsBg=" crossorigin="anonymous"> <link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Roboto+Slab:100,300,400,500,700|Material+Icons"> <link href="https://fonts.googleapis.com/css2?family=Crimson+Text:wght@300;400;450;500;600;700&amp;display=swap" rel="stylesheet"> <script src="https://code.iconify.design/iconify-icon/1.0.7/iconify-icon.min.js"></script> <link rel="preconnect" href="https://fonts.googleapis.com"> <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin> <link href="https://fonts.googleapis.com/css2?family=EB+Garamond:ital,wght@0,400..800;1,400..800&amp;display=swap" rel="stylesheet"> <link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:ital,wght@0,300;0,400;0,500;0,600;0,700;1,300;1,400;1,500;1,600;1,700&amp;family=EB+Garamond:ital,wght@0,400..800;1,400..800&amp;display=swap" rel="stylesheet"> <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700&amp;display=swap" rel="stylesheet"> <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/jwarby/jekyll-pygments-themes@master/github.css" media="" id="highlight_theme_light"> <link rel="shortcut icon" href="/assets/img/favicon.png"> <link rel="stylesheet" href="/assets/css/main.css?d41d8cd98f00b204e9800998ecf8427e"> <link rel="canonical" href="https://leolty.github.io/blog/2024/stock-holding/"> <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/jwarby/jekyll-pygments-themes@master/native.css" media="none" id="highlight_theme_dark"> <script src="/assets/js/theme.js?96d6b3e1c3604aca8b6134c7afdd5db6"></script> <script src="/assets/js/dark_mode.js?9b17307bb950ffa2e34be0227f53558f"></script> <script src="https://cdn.jsdelivr.net/npm/echarts@5.3.3/dist/echarts.min.js"></script> </head> <body class="fixed-top-nav sticky-bottom-footer"> <div id="background-animation" class="background-animation"> </div> <header> <nav id="navbar" class="navbar navbar-light navbar-expand-sm fixed-top"> <div class="container"> <a class="navbar-brand title font-weight-lighter" href="/"><span class="font-weight-bold">Tianyang </span>Liu</a> <button class="navbar-toggler collapsed ml-auto" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation"> <span class="sr-only">Toggle navigation</span> <span class="icon-bar top-bar"></span> <span class="icon-bar middle-bar"></span> <span class="icon-bar bottom-bar"></span> </button> <div class="collapse navbar-collapse text-right" id="navbarNav"> <ul class="navbar-nav ml-auto flex-nowrap"> <li class="nav-item "> <a class="nav-link" href="/">About</a> </li> <li class="nav-item active"> <a class="nav-link" href="/blog/">Blog<span class="sr-only">(current)</span></a> </li> <li class="nav-item "> <a class="nav-link" href="/publications/">Publications</a> </li> <li class="toggle-container"> <button id="light-toggle" title="Change theme"> <i class="fas fa-moon"></i> <i class="fas fa-sun"></i> </button> </li> </ul> </div> </div> </nav> <progress id="progress" value="0"> <div class="progress-container"> <span class="progress-bar"></span> </div> </progress> </header> <div class="container mt-5"> <div class="post"> <header class="post-header"> <h1 class="post-title">My US Stock Holdings</h1> <p class="post-meta">October 29, 2024</p> <p class="post-tags"> <a href="/blog/2024"> <i class="fas fa-calendar fa-sm"></i> 2024 </a>   ·   <a href="/blog/tag/personal"> <i class="fas fa-hashtag fa-sm"></i> personal</a>   </p> </header> <article class="post-content"> <div id="table-of-contents"> <ul id="toc" class="section-nav"> <li class="toc-entry toc-h3"><a href="#holdings-breakdown">Holdings Breakdown</a></li> <li class="toc-entry toc-h3"><a href="#investment-summary">Investment Summary</a></li> </ul> </div> <hr> <div id="markdown-content"> <p>This post records my latest holdings in select US stocks. I will regularly update it to track changes in values, industry movements, and overall returns. This is purely for personal tracking purposes.</p> <h3 id="holdings-breakdown">Holdings Breakdown</h3> <div class="section-heading">📊 Current Portfolio Status</div> <div id="fetching-container" style="display: flex; justify-content: center; align-items: center; margin-bottom: 30px;"> <button id="refresh-button" class="refresh-button"><span class="refresh-icon">🔄</span> Refresh Data</button> <div id="indicator-style-selector" class="indicator-style-selector"> <button class="style-toggle"><span class="style-toggle-icon">😀</span> Display Mode</button> <div class="style-options"> <div class="indicator-option" data-style="1" title="Circular Gauge">⭕</div> <div class="indicator-option" data-style="2" title="Progress Bar">📊</div> <div class="indicator-option" data-style="3" title="Arrows">🔼</div> <div class="indicator-option" data-style="4" title="LED Bar">💡</div> <div class="indicator-option" data-style="5" title="Emoji">😀</div> <div class="indicator-option" data-style="6" title="Pie Slice">🥧</div> <div class="indicator-option" data-style="7" title="Battery">🔋</div> <div class="indicator-option" data-style="8" title="Traffic Light">🚦</div> <div class="indicator-option" data-style="9" title="Card Suits">♠️</div> </div> </div> <div id="fetching-indicator" class="fetching-indicator" style="margin-left: 15px;"> Fetching data, please wait... </div> </div> <div id="holdings-table-container" style="display: none; margin-top: 20px;"> </div> <style>:root{--table-text-color:#000;--card-bg-color:#f8f9fa;--card-border-color:#e9ecef;--hover-bg-color:#f1f3f5}[data-theme='dark']{--table-text-color:#fff;--card-bg-color:#2d2d2d;--card-border-color:#444;--hover-bg-color:#3a3a3a}#holdings-table,#holdings-table th,#holdings-table td,#summary-table,#summary-table th,#summary-table td{color:var(--table-text-color)}.pl-positive{color:#28a745;font-weight:bold}.pl-negative{color:#dc3545;font-weight:bold}.gauge-indicator{display:inline-block;width:28px;height:28px;position:relative;border-radius:50%;background:var(--card-bg-color);box-shadow:0 1px 3px rgba(0,0,0,0.1);overflow:hidden}.gauge-background{position:absolute;width:100%;height:100%;border-radius:50%;background:#f0f0f0;opacity:.25}[data-theme='dark'] .gauge-background{background:#5a5a5a}.gauge-fill{position:absolute;bottom:0;left:0;width:100%;transition:height .3s ease;border-bottom-left-radius:14px;border-bottom-right-radius:14px}.gauge-positive{background:linear-gradient(to top,rgba(40,167,69,0.9),rgba(40,167,69,0.5))}.gauge-negative{background:linear-gradient(to bottom,rgba(220,53,69,0.9),rgba(220,53,69,0.5))}.gauge-value{position:absolute;top:0;left:0;width:100%;height:100%;display:flex;align-items:center;justify-content:center;font-size:10px;font-weight:bold;line-height:1}.gauge-value-positive{color:#28a745}.gauge-value-negative{color:#dc3545}.progress-indicator{display:inline-block;width:40px;height:18px;position:relative;border-radius:9px;background:var(--card-bg-color);box-shadow:inset 0 1px 3px rgba(0,0,0,0.2);overflow:hidden}.progress-fill{position:absolute;top:0;bottom:0;left:0;transition:width .3s ease;border-radius:9px}.progress-fill-positive{background:linear-gradient(to right,#28a745,#75cf89)}.progress-fill-negative{background:linear-gradient(to right,#dc3545,#e47783)}.progress-tick{position:absolute;top:0;bottom:0;width:1px;background:rgba(255,255,255,0.7)}.progress-tick-25{left:25%}.progress-tick-50{left:50%}.progress-tick-75{left:75%}.progress-value{position:absolute;top:0;left:0;width:100%;height:100%;display:flex;align-items:center;justify-content:center;font-size:9px;font-weight:bold;color:white;text-shadow:0 0 2px rgba(0,0,0,0.5)}.arrow-indicator{display:inline-flex;align-items:center;justify-content:center;width:36px;height:24px;position:relative}.arrow{position:relative;display:inline-block;transition:all .3s ease}.arrow-up{width:0;height:0;border-left:8px solid transparent;border-right:8px solid transparent;border-bottom:12px solid #28a745}.arrow-down{width:0;height:0;border-left:8px solid transparent;border-right:8px solid transparent;border-top:12px solid #dc3545}.arrow-value{position:absolute;font-size:9px;font-weight:bold;color:white;line-height:1}.arrow-up .arrow-value{bottom:1px}.arrow-down .arrow-value{top:1px}.led-bar-indicator{display:inline-flex;flex-direction:column;justify-content:center;align-items:center;width:26px;height:24px;position:relative}.led-bar-container{display:flex;flex-direction:column;width:100%;height:20px;justify-content:space-between}.led{width:20px;height:3px;border-radius:1px;margin:0 auto}.led-on{box-shadow:0 0 2px rgba(0,0,0,0.3)}.led-positive{background-color:rgba(40,167,69,0.3)}.led-positive.led-on{background-color:#28a745}.led-negative{background-color:rgba(220,53,69,0.3)}.led-negative.led-on{background-color:#dc3545}.emoji-indicator{display:inline-flex;flex-direction:column;align-items:center;justify-content:center;width:36px;height:28px}.performance-emoji{font-size:16px;line-height:1}.emoji-value{font-size:9px;font-weight:bold;line-height:1}.emoji-value-positive{color:#28a745}.emoji-value-negative{color:#dc3545}.trend-indicator{display:inline-block;width:44px;height:24px;position:relative;border-radius:4px;background:var(--card-bg-color);box-shadow:inset 0 0 3px rgba(0,0,0,0.1);overflow:hidden;vertical-align:middle}.trend-line{position:absolute;top:0;left:0;width:100%;height:100%;display:flex;align-items:center}.trend-line::after{content:"";position:absolute;left:0;width:100%;height:1px;background-color:rgba(128,128,128,0.3)}.trend-bar{position:absolute;width:3px;border-radius:1px;bottom:2px;transition:all .3s ease}.trend-bar:nth-child(1){left:5px}.trend-bar:nth-child(2){left:12px}.trend-bar:nth-child(3){left:19px}.trend-bar:nth-child(4){left:26px}.trend-bar:nth-child(5){left:33px}.trend-positive .trend-bar{background:linear-gradient(to top,#28a745,#75cf89)}.trend-negative .trend-bar{background:linear-gradient(to bottom,#dc3545,#e47783)}.trend-final{position:absolute;right:2px;top:6px;font-size:10px;font-weight:bold}.trend-positive .trend-final{color:#28a745}.trend-negative .trend-final{color:#dc3545}.performance-indicator{display:inline-block;width:24px;height:24px;position:relative;border-radius:4px;background:var(--card-bg-color);box-shadow:inset 0 0 3px rgba(0,0,0,0.1);overflow:hidden}.performance-bar{position:absolute;bottom:3px;left:3px;right:3px;border-radius:2px 2px 0 0;transition:height .3s ease}
.performance-bar-positive{background:linear-gradient(to top,#28a745,#75cf89)}.performance-bar-negative{background:linear-gradient(to bottom,#dc3545,#e47783)}.intensity-1{height:20%}.intensity-2{height:40%}.intensity-3{height:60%}.intensity-4{height:80%}.intensity-5{height:100%}.indicator-dot{display:inline-block;width:8px;height:8px;border-radius:50%;margin-right:0;box-shadow:0 0 3px rgba(0,0,0,0.2)}.indicator-positive{background-color:#28a745}.indicator-negative{background-color:#dc3545}.bootstrap-table .table{border-collapse:separate!important;border-spacing:0 8px!important;margin-top:20px!important;border:none!important}.bootstrap-table{border:none!important;box-shadow:none!important}.bootstrap-table .fixed-table-container{border:none!important;box-shadow:none!important}.bootstrap-table .table thead th{border:none!important;background-color:transparent!important;font-weight:bold!important;padding:15px 10px!important;color:var(--table-text-color)!important;font-size:1.1em!important}.bootstrap-table .table tbody tr{background-color:var(--card-bg-color)!important;box-shadow:0 2px 6px rgba(0,0,0,0.08)!important;border-radius:10px!important;transition:transform .2s ease,box-shadow .2s ease!important;position:relative!important;overflow:hidden!important}.bootstrap-table .table tbody tr.positive-row{border-left:6px solid #28a745!important}.bootstrap-table .table tbody tr.negative-row{border-left:6px solid #dc3545!important}.bootstrap-table .table tbody tr:hover{transform:translateY(-2px)!important;box-shadow:0 4px 10px rgba(0,0,0,0.15)!important;background-color:var(--hover-bg-color)!important}.bootstrap-table .table tbody td{border:none!important;padding:15px 10px!important;vertical-align:middle!important}.bootstrap-table .table tbody td:first-child{border-top-left-radius:10px!important;border-bottom-left-radius:10px!important;font-weight:bold!important;padding-left:16px!important}.bootstrap-table .table tbody td:last-child{border-top-right-radius:10px!important;border-bottom-right-radius:10px!important}.bootstrap-table .fixed-table-border{display:none!important;border:none!important}.bootstrap-table .fixed-table-container.fixed-height{border:none!important}.bootstrap-table .pagination-detail,.bootstrap-table .pagination{margin-top:20px!important}.bootstrap-table .pagination .page-item .page-link{border-radius:5px!important;margin:0 3px!important}.bootstrap-table .pagination .page-item.active .page-link{background-color:#007bff!important;border-color:#007bff!important}.section-heading{position:relative;margin-bottom:40px;text-align:center;font-weight:bold;display:flex;align-items:center;justify-content:center}.section-heading::before,.section-heading::after{content:"";height:2px;background:linear-gradient(90deg,transparent,var(--table-text-color) 50%,transparent 100%);flex-grow:1;margin:0 20px;opacity:.3}.summary-cards-container{display:flex;flex-wrap:wrap;justify-content:center;gap:20px;margin:30px auto;max-width:1000px}.summary-card{background-color:var(--card-bg-color);border-radius:12px;padding:20px;width:280px;box-shadow:0 4px 8px rgba(0,0,0,0.1);transition:transform .3s ease,box-shadow .3s ease;display:flex;flex-direction:column}.summary-card:hover{transform:translateY(-5px);box-shadow:0 8px 16px rgba(0,0,0,0.2)}.card-header{display:flex;align-items:center;margin-bottom:15px}.card-icon{margin-right:10px;font-size:1.5em;width:36px;height:36px;display:flex;align-items:center;justify-content:center;border-radius:50%}.overview-icon{background-color:#007bff;color:white}.holdings-icon{background-color:#6f42c1;color:white}.win-rate-icon{background-color:#fd7e14;color:white}.best-icon{background-color:#28a745;color:white}.worst-icon{background-color:#dc3545;color:white}.concentration-icon{background-color:#17a2b8;color:white}.card-title{font-size:1.1em;font-weight:bold;color:var(--table-text-color);margin:0}.card-value{font-size:1.8em;font-weight:bold;margin-top:5px;margin-bottom:10px}.card-subtext{font-size:.9em;color:var(--table-text-color);opacity:.8}#fetching-container{display:flex;align-items:center;margin-bottom:20px}.fetching-indicator{font-size:1em;color:#555;padding:8px 15px;border-radius:20px;background-color:var(--card-bg-color);box-shadow:0 2px 5px rgba(0,0,0,0.1);transition:all .3s ease}.fetching-indicator.success{color:#28a745;background-color:rgba(40,167,69,0.1)}.fetching-indicator.error{color:#dc3545;background-color:rgba(220,53,69,0.1)}.refresh-button{background-color:#007bff;color:#fff;border:0;padding:12px 20px;font-size:1.1em;border-radius:30px;cursor:pointer;font-weight:bold;display:flex;align-items:center;justify-content:center;transition:all .3s ease;box-shadow:0 4px 6px rgba(0,123,255,0.25)}.refresh-icon{margin-right:8px;display:inline-block}.refresh-button:hover{background-color:#0056b3;transform:translateY(-2px);box-shadow:0 6px 10px rgba(0,123,255,0.35)}.refresh-button:disabled{background-color:#6c757d;cursor:not-allowed;transform:none;box-shadow:none}.refresh-button:focus{outline:0;box-shadow:0 0 0 3px rgba(0,123,255,0.3)}
.refresh-button:active{background-color:#0056b3;transform:translateY(1px)}#portfolioChartContainer{background-color:var(--card-bg-color);padding:20px;border-radius:15px;box-shadow:0 4px 12px rgba(0,0,0,0.1);margin:30px auto;height:auto!important;min-height:520px}#portfolioChart{width:850px;height:480px;margin:0 auto}.indicator-style-selector{position:relative;display:inline-flex;align-items:center;margin-left:15px}.style-toggle{display:flex;align-items:center;justify-content:center;background-color:#007bff;color:#fff;border:0;padding:12px 20px;font-size:1.1em;border-radius:30px;cursor:pointer;font-weight:bold;transition:all .3s ease;box-shadow:0 4px 6px rgba(0,123,255,0.25)}.style-toggle:hover{background-color:#0056b3;transform:translateY(-2px);box-shadow:0 6px 10px rgba(0,123,255,0.35)}.style-toggle-icon{margin-right:8px;display:inline-block}.style-options{position:absolute;right:0;top:50px;background:var(--card-bg-color);border-radius:8px;box-shadow:0 3px 10px rgba(0,0,0,0.2);display:none;z-index:100;padding:8px;width:180px}.style-options.show{display:grid;grid-template-columns:repeat(3,1fr);gap:6px}.indicator-option{display:inline-flex;align-items:center;justify-content:center;width:30px;height:30px;border-radius:4px;background:var(--card-bg-color);box-shadow:0 1px 3px rgba(0,0,0,0.1);cursor:pointer;transition:all .2s ease;font-size:16px}.indicator-option:hover{transform:translateY(-2px);background-color:rgba(0,123,255,0.1)}.indicator-option.active{background:rgba(0,123,255,0.2);box-shadow:0 0 0 2px rgba(0,123,255,0.3)}.pie-indicator{display:inline-block;width:26px;height:26px;position:relative;border-radius:50%;overflow:hidden;background:var(--card-bg-color);box-shadow:inset 0 0 3px rgba(0,0,0,0.1)}.pie-slice{position:absolute;top:0;left:0;width:100%;height:100%;transform-origin:center}.pie-slice-positive{background:conic-gradient(#28a745 var(--angle),transparent 0)}.pie-slice-negative{background:conic-gradient(#dc3545 var(--angle),transparent 0)}.pie-bg{position:absolute;width:60%;height:60%;top:20%;left:20%;border-radius:50%;background:var(--card-bg-color);display:flex;align-items:center;justify-content:center}.pie-text{font-size:9px;font-weight:bold}.pie-text-positive{color:#28a745}.pie-text-negative{color:#dc3545}.battery-indicator{display:inline-block;width:26px;height:20px;position:relative;border:2px solid #999;border-radius:3px;padding:1px}.battery-tip{position:absolute;width:3px;height:8px;background:#999;right:-5px;top:50%;transform:translateY(-50%);border-radius:0 2px 2px 0}.battery-fill{height:100%;border-radius:1px;transition:width .3s ease}.battery-positive{background:linear-gradient(to right,#28a745,#75cf89)}.battery-negative{background:linear-gradient(to right,#dc3545,#e47783)}.battery-text{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);font-size:9px;font-weight:bold;color:#fff;text-shadow:0 0 2px rgba(0,0,0,0.5)}.traffic-light{display:inline-flex;flex-direction:column;justify-content:center;align-items:center;width:20px;height:26px;background:rgba(0,0,0,0.15);border-radius:10px;padding:2px 0}.light{width:8px;height:8px;border-radius:50%;margin:1px 0;background:rgba(255,255,255,0.3)}.light-on{box-shadow:0 0 5px rgba(255,255,255,0.5)}.red-light.light-on{background-color:#dc3545}.yellow-light.light-on{background-color:#ffc107}.green-light.light-on{background-color:#28a745}.card-suit-indicator{display:inline-flex;flex-direction:column;align-items:center;justify-content:center;width:26px;height:26px}.card-suit{font-size:16px;line-height:1}.card-text{font-size:9px;font-weight:bold;line-height:1}.suit-positive{color:#28a745}.suit-negative{color:#dc3545}.star-indicator{display:inline-flex;flex-direction:column;align-items:center;justify-content:center;width:30px;height:26px}.star-container{display:flex;justify-content:center}.star{font-size:8px;color:rgba(128,128,128,0.3)}.star.filled{color:gold;text-shadow:0 0 2px rgba(0,0,0,0.3)}.star-text{font-size:9px;margin-top:1px}.star-positive{color:#28a745}.star-negative{color:#dc3545}</style> <script>document.addEventListener("DOMContentLoaded",async function(){function e(e,t="info"){const r=document.getElementById("fetching-indicator");r.innerText=e,r.classList.remove("success","error"),"success"===t?r.classList.add("success"):"error"===t&&r.classList.add("error"),r.style.display="block"}function t(t){e(t,"error")}function r(t){e(t,"success")}function i(){const e=new Date,t={timeZone:"America/Los_Angeles",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!1};return new Intl.DateTimeFormat("en-US",t).format(e)}async function a(e){const t=`https://finnhub.io/api/v1/quote?symbol=${"BTC"===e.symbol?"BINANCE:BTCUSDT":e.symbol}&token=${x}`;let r=0;const i=5,a=300;for(;r<=i;)try{const o=await fetch(t);if(429===o.status){if(++r>i)throw new Error(`Rate limit exceeded for ${e.symbol} after ${i} retries`);const t=a*Math.pow(2,r)+100*Math.random();console.log(`Rate limited for ${e.symbol}, retrying after ${t.toFixed(0)}ms (retry ${r}/${i})`),await new Promise(e=>setTimeout(e,t));continue}const s=await o.json();if(s.c)return void(e.curr_price=s.c);throw console.error(`No data for symbol: ${e.symbol}`),e.curr_price=0,new Error(`No data for symbol: ${e.symbol}`)}catch(n){if(++r>i||n.message.includes("No data for symbol"))throw console.error(`Error fetching data for ${e.symbol}:`,n),e.curr_price=0,n;const t=a*Math.pow(2,r)+100*Math.random();console.log(`Error for ${e.symbol}, retrying after ${t.toFixed(0)}ms (retry ${r}/${i})`),await new Promise(e=>setTimeout(e,t))}}async function n(e){const t=3;for(let r=0;r<e.length;r+=t){const i=e.slice(r,r+t).map(e=>a(e));await Promise.all(i)["catch"](e=>console.error("Batch error:",e)),r+t<e.length&&await new Promise(e=>setTimeout(e,500))}}function o(e){e.forEach(e=>{e.stock=`${e.name}`,e.curr_price=parseFloat(e.curr_price.toFixed(2)),e.cost_price=parseFloat(e.cost_price.toFixed(2)),e.value=parseFloat((e.qty*e.curr_price).toFixed(2)),e.cost_basis=parseFloat((e.qty*e.cost_price).toFixed(2)),e.pl_dollar=parseFloat((e.value-e.cost_basis).toFixed(2)),e.pl_percent=parseFloat((e.pl_dollar/e.cost_basis*100).toFixed(2)),e.pl_class=e.pl_percent>=0?"pl-positive":"pl-negative"})}function s(e){const t=document.getElementById("holdings-table-container");t.innerHTML="";var r=document.createElement("table");r.id="holdings-table",r.setAttribute("data-toggle","table"),r.setAttribute("data-search","false"),r.setAttribute("data-pagination","true"),r.setAttribute("data-sortable","true"),r.setAttribute("data-sort-name","pl_percent"),r.setAttribute("data-sort-order","desc"),t.appendChild(r);const i=e.reduce((e,t)=>e+t.value,0),a=Math.max(...e.map(e=>Math.abs(e.pl_percent)));e.forEach(e=>{e.portfolio_weight=e.value/i*100,e.performance_type=e.pl_percent>=0?"positive":"negative";const t=Math.abs(e.pl_percent)/a;e.gauge_fill=5+95*t,e.progress_fill=Math.min(100,100*t);const r=5;e.led_count=Math.max(1,Math.ceil(t*r)),e.pie_degrees=Math.max(5,Math.min(90,90*t))}),$("#holdings-table").bootstrapTable({data:e,pagination:!0,pageSize:20,pageList:[20,50,100,"all"],columns:[{field:"indicator",title:"",sortable:!1,width:40,align:"center",formatter:function(e,t){switch(S){case 1:return c(t);case 2:return l(t);case 3:return d(t);case 4:return u(t);case 5:return m(t);case 6:return p(t);case 7:return f(t);case 8:return v(t);case 9:return h(t);default:return c(t)}}},{field:"stock",title:"Stock",sortable:!0},{field:"curr_price",title:"Current Price ($)",sortable:!0,formatter:function(e){return e.toFixed(2)}},{field:"cost_price",title:"Cost Price ($)",sortable:!0,formatter:function(e){return e.toFixed(2)}},{field:"portfolio_weight",title:"Portfolio Weight (%)",sortable:!0,formatter:function(e){return`${e.toFixed(2)}%`}},{field:"pl_percent",title:"P/L (%)",sortable:!0,formatter:function(e,t){return`<span class="${t.pl_class}">${e.toFixed(2)}%</span>`}}]})}function c(e){const t=e.performance_type;return`<div class="gauge-indicator">\n              <div class="gauge-background"></div>\n              <div class="gauge-fill gauge-${t}" style="height: ${e.gauge_fill}%;"></div>\n              <div class="gauge-value gauge-value-${t}">${"positive"===t?"+":"-"}${Math.abs(Math.round(e.pl_percent))}%</div>\n            </div>`}function l(e){return`<div class="progress-indicator">\n              <div class="progress-fill progress-fill-${e.performance_type}" style="width: ${e.progress_fill}%;"></div>\n              <div class="progress-tick progress-tick-25"></div>\n              <div class="progress-tick progress-tick-50"></div>\n              <div class="progress-tick progress-tick-75"></div>\n              <div class="progress-value">${Math.abs(Math.round(e.pl_percent))}%</div>\n            </div>`}function d(e){const t=e.performance_type,r=Math.abs(Math.round(e.pl_percent));return`<div class="arrow-indicator">\n              <div class="arrow ${"positive"===t?"arrow-up":"arrow-down"}" style="${`transform: scale(${(.5+e.progress_fill/100*.5).toFixed(2)});`}">\n                <div class="arrow-value">${r}</div>\n              </div>\n            </div>`}function u(e){const t=e.performance_type,r=e.led_count;let i="";for(let e=5;e>=1;e--){i+=`<div class="led led-${t} ${e<=r?"led-on":""}"></div>`}return`<div class="led-bar-indicator">\n              <div class="led-bar-container">\n                ${i}\n              </div>\n            </div>`}function m(e){const t=e.performance_type,r=Math.abs(Math.round(e.pl_percent)),i="positive"===t?"+":"-";let a;const n=e.progress_fill/100;return`<div class="emoji-indicator">\n              <div class="performance-emoji">${a="positive"===t?n>=.9?"\ud83e\udd29":n>=.75?"\ud83d\ude01":n>=.6?"\ud83d\ude04":n>=.45?"\ud83d\ude0a":n>=.3?"\ud83d\ude42":n>=.15?"\ud83d\ude0f":"\ud83d\ude10":n>=.9?"\ud83d\ude2d":n>=.75?"\ud83d\ude22":n>=.6?"\ud83d\ude1e":n>=.45?"\ud83d\ude15":n>=.3?"\ud83d\ude1f":n>=.15?"\ud83d\ude11":"\ud83d\ude10"}</div>\n              <div class="emoji-value emoji-value-${t}">${i}${r}%</div>\n            </div>`}function p(e){const t=e.performance_type,r=Math.abs(Math.round(e.pl_percent)),i="positive"===t?"+":"-",a=270;return`<div class="pie-indicator">\n              <div class="pie-slice pie-slice-${t}" style="--angle: ${Math.max(5,Math.min(a,e.progress_fill/100*a))}deg;"></div>\n              <div class="pie-bg">\n                <div class="pie-text pie-text-${t}">${i}${r}</div>\n              </div>\n            </div>`}function f(e){return`<div class="battery-indicator">\n              <div class="battery-fill battery-${e.performance_type}" style="width: ${Math.max(10,e.progress_fill)}%;"></div>\n              <div class="battery-tip"></div>\n              <div class="battery-text">${Math.abs(Math.round(e.pl_percent))}</div>\n            </div>`}function v(e){const t=e.performance_type,r=e.progress_fill/100;let i="",a="",n="";return"positive"===t?r>.7?n="light-on":r>.3?a="light-on":i="light-on":r>.7?i="light-on":r>.3?a="light-on":n="light-on",`<div class="traffic-light">\n              <div class="light red-light ${i}"></div>\n              <div class="light yellow-light ${a}"></div>\n              <div class="light green-light ${n}"></div>\n            </div>`}function h(e){const t=e.performance_type,r=Math.abs(Math.round(e.pl_percent)),i="positive"===t?"+":"-";let a;const n=e.progress_fill/100;return`<div class="card-suit-indicator">\n              <div class="card-suit suit-${t}">${a="positive"===t?n>.5?"\u2663":"\u2666":n>.5?"\u2660":"\u2665"}</div>\n              <div class="card-text suit-${t}">${i}${r}%</div>\n            </div>`}function g(e){const t=document.getElementById("summary-table-container");t.innerHTML="";const r=e.length,i=e.reduce((e,t)=>e+t.cost_basis,0),a=(e.reduce((e,t)=>e+t.value,0)-i)/i*100,n=[...e].sort((e,t)=>t.pl_percent-e.pl_percent),o=n[0],s=n[n.length-1],c=e.filter(e=>e.pl_percent>0).length,l=e.filter(e=>e.pl_percent<0).length,d=c/r*100,u={};e.forEach(e=>{const t=e.name.split(" ")[0];u[t]||(u[t]=0),u[t]+=e.portfolio_weight});let m="",p=0;Object.entries(u).forEach(([e,t])=>{t>p&&(m=e,p=t)});const f=document.createElement("div");f.className="summary-cards-container",t.appendChild(f);const v=document.createElement("div");v.className="summary-card",v.innerHTML=`\n      <div class="card-header">\n        <div class="card-icon overview-icon">\ud83d\udcc8</div>\n        <h3 class="card-title">Overall Return</h3>\n      </div>\n      <div class="card-value ${a>=0?"pl-positive":"pl-negative"}">${a.toFixed(2)}%</div>\n      <div class="card-subtext">Since inception</div>\n    `,f.appendChild(v);const h=document.createElement("div");h.className="summary-card",h.innerHTML=`\n      <div class="card-header">\n        <div class="card-icon holdings-icon">\ud83d\udd22</div>\n        <h3 class="card-title">Total Holdings</h3>\n      </div>\n      <div class="card-value">${r}</div>\n      <div class="card-subtext">Unique stocks</div>\n    `,f.appendChild(h);const g=document.createElement("div");g.className="summary-card",g.innerHTML=`\n      <div class="card-header">\n        <div class="card-icon win-rate-icon">\ud83c\udfaf</div>\n        <h3 class="card-title">Win Rate</h3>\n      </div>\n      <div class="card-value">${d.toFixed(1)}%</div>\n      <div class="card-subtext">${c} winners, ${l} losers</div>\n    `,f.appendChild(g);const b=document.createElement("div");b.className="summary-card",b.innerHTML=`\n      <div class="card-header">\n        <div class="card-icon best-icon">\ud83c\udfc6</div>\n        <h3 class="card-title">Best Performer</h3>\n      </div>\n      <div class="card-value pl-positive">+${o.pl_percent.toFixed(2)}%</div>\n      <div class="card-subtext">${o.symbol} (${o.name})</div>\n    `,f.appendChild(b);const y=document.createElement("div");y.className="summary-card",y.innerHTML=`\n      <div class="card-header">\n        <div class="card-icon worst-icon">\ud83d\udcc9</div>\n        <h3 class="card-title">Worst Performer</h3>\n      </div>\n      <div class="card-value pl-negative">${s.pl_percent.toFixed(2)}%</div>\n      <div class="card-subtext">${s.symbol} (${s.name})</div>\n    `,f.appendChild(y);const _=document.createElement("div");_.className="summary-card",_.innerHTML=`\n      <div class="card-header">\n        <div class="card-icon concentration-icon">\u2696\ufe0f</div>\n        <h3 class="card-title">Highest Concentration</h3>\n      </div>\n      <div class="card-value">${p.toFixed(1)}%</div>\n      <div class="card-subtext">in ${m}</div>\n    `,f.appendChild(_)}function b(e){T=e.map(e=>({name:e.name,symbol:e.symbol,value:e.value})),q.setOption({series:[{data:T.map(e=>({name:e.symbol,value:e.value,fullName:e.name}))}]})}async function y(){if(F)return;F=!0,e("Fetching data, please wait...");const a=document.getElementById("refresh-button");a.disabled=!0;try{await n(E),o(E),s(E),b(E),g(E),document.getElementById("holdings-table-container").style.display="block",document.getElementById("summary-table-container").style.display="block",_(),r(`Data fetched successfully at ${i()} PST`)}catch(c){t("Fetching error. Retrying in 1 minute..."),L&&clearTimeout(L),L=setTimeout(()=>{y()},6e4)}finally{F=!1,a.disabled=!1}}function _(){const e=document.querySelector(".style-toggle"),t=document.querySelector(".style-options");if(!e||!t)return;const r=document.querySelector(`.indicator-option[data-style="${S}"]`);r&&r.classList.add("active"),e.onclick=function(e){t.classList.toggle("show"),e.stopPropagation()},document.addEventListener("click",function(r){t.contains(r.target)||r.target===e||t.classList.remove("show")});const i=document.querySelectorAll(".indicator-option");i.forEach(e=>{e.onclick=function(e){const r=parseInt(this.getAttribute("data-style"));if(r===S)return;S=r,i.forEach(e=>e.classList.remove("active")),this.classList.add("active"),t.classList.remove("show");const a=$("#holdings-table").bootstrapTable("getData");$("#holdings-table").bootstrapTable("destroy"),$("#holdings-table").bootstrapTable({data:a,pagination:!0,pageSize:20,pageList:[20,50,100,"all"],columns:[{field:"indicator",title:"",sortable:!1,width:40,align:"center",formatter:function(e,t){switch(S){case 1:return c(t);case 2:return l(t);case 3:return d(t);case 4:return u(t);case 5:return m(t);case 6:return p(t);case 7:return f(t);case 8:return v(t);case 9:return h(t);default:return c(t)}}},{field:"stock",title:"Stock",sortable:!0},{field:"curr_price",title:"Current Price ($)",sortable:!0,formatter:function(e){return e.toFixed(2)}},{field:"cost_price",title:"Cost Price ($)",sortable:!0,formatter:function(e){return e.toFixed(2)}},{field:"portfolio_weight",title:"Portfolio Weight (%)",sortable:!0,formatter:function(e){return`${e.toFixed(2)}%`}},{field:"pl_percent",title:"P/L (%)",sortable:!0,formatter:function(e,t){return`<span class="${t.pl_class}">${e.toFixed(2)}%</span>`}}]}),e.stopPropagation()}})}function w(e){return{title:{text:"Portfolio Breakdown by Stock Value",left:"center",top:"5%",textStyle:{fontFamily:'"EB Garamond", serif',fontSize:18,fontWeight:"bold",color:e?"#ffffff":"#000000"}},color:["#5470c6","#91cc75","#fac858","#ee6666","#73c0de","#3ba272","#fc8452","#9a60b4","#ea7ccc","#6b778d","#b5bd48","#e44a8c","#4e9caa","#8c7853","#a1488e","#5d7148","#e77c30","#4682b4","#bc8f8f","#6a5acd"],tooltip:{trigger:"item",formatter:function(e){return`${e.data.fullName}: ${e.percent}%`},textStyle:{fontFamily:'"EB Garamond", serif',color:e?"#ffffff":"#000000"},backgroundColor:e?"#333333":"#ffffff",borderColor:e?"#ffffff":"#333333"},legend:{orient:"vertical",right:"5%",top:"middle",itemGap:10,textStyle:{fontFamily:'"EB Garamond", serif',fontSize:14,color:e?"#ffffff":"#000000"},formatter:function(e){const t=T.find(t=>t.symbol===e);return t?t.name:e}},series:[{name:"Stock Value",type:"pie",radius:["40%","70%"],center:["40%","55%"],avoidLabelOverlap:!0,itemStyle:{borderRadius:10,borderColor:e?"#333333":"#ffffff",borderWidth:2},label:{show:!0,formatter:"{b}: {d}%",fontFamily:'"EB Garamond", serif',fontSize:14,position:"outside",distanceToLabelLine:15,color:e?"#ffffff":"#000000"},labelLine:{show:!0,lineStyle:{color:e?"#ffffff":"#333333"},length:20,length2:15},labelLayout:function(){return{moveOverlap:"shiftY"}},emphasis:{scale:!0,scaleSize:10}}]}}function M(){const e="dark"===document.documentElement.getAttribute("data-theme");q.setOption(w(e))}const x="cshj6s1r01qu99bg0oe0cshj6s1r01qu99bg0oeg";var E=[{name:"NVIDIA",symbol:"NVDA",qty:162,cost_price:88.81},{name:"Robinhood",symbol:"HOOD",qty:20,cost_price:33.72},{name:"Taiwan Semiconductor",symbol:"TSM",qty:6,cost_price:151.7},{name:"Alphabet (Google)",symbol:"GOOGL",qty:10,cost_price:151.23},{name:"Tempus AI",symbol:"TEM",qty:15,cost_price:45.1},{name:"American Express",symbol:"AXP",qty:2,cost_price:250.01},{name:"Amazon",symbol:"AMZN",qty:10,cost_price:200.43},{name:"JPMorgan Chase",symbol:"JPM",qty:2,cost_price:234.5},{name:"Advanced Micro Devices",symbol:"AMD",qty:5,cost_price:104.2},{name:"Uber",symbol:"UBER",qty:5,cost_price:83.54},{name:"SoFi Technologies",symbol:"SOFI",qty:330,cost_price:13.03},{name:"Vanguard S&P 500 ETF",symbol:"VOO",qty:.128494,cost_price:544.77},{name:"Eli Lilly",symbol:"LLY",qty:13,cost_price:813.48},{name:"Lululemon",symbol:"LULU",qty:2,cost_price:258.9}],F=!1,L=null,T=[],S=1,k=document.getElementById("portfolioChart"),q=echarts.init(k);M(),new MutationObserver(M).observe(document.documentElement,{attributes:!0,attributeFilter:["data-theme"]}),document.getElementById("refresh-button").addEventListener("click",function(){y()}),y()});</script> <p> </p> <div id="portfolioChartContainer" style="width: 100%; overflow: visible; max-width: 900px; margin: 40px auto;"> <div id="portfolioChart" style="width: 850px; height: 480px; margin: 0 auto;"></div> </div> <p> </p> <h3 id="investment-summary">Investment Summary</h3> <div class="section-heading">💼 Portfolio Performance</div> <div id="summary-table-container" style="display: none;"> </div> <p> </p> </div> </article> </div> </div> <footer class="sticky-bottom mt-5"> <div class="container"> © Copyright 2025 Tianyang Liu. Powered by <a href="https://jekyllrb.com/" target="_blank" rel="external nofollow noopener">Jekyll</a> with <a href="https://github.com/alshedivat/al-folio" rel="external nofollow noopener" target="_blank">al-folio</a> theme. Last updated: June 06, 2025. </div> <div id="map-container" style="display: none;"> <script type="text/javascript" id="clustrmaps" src="//cdn.clustrmaps.com/map_v2.js?cl=ffffff&amp;w=300&amp;t=n&amp;d=vcetvMKxQeU0A74GGVddvtKdDYpzY562Hjs3OBdOjBw"></script> </div> </footer> <script src="https://cdn.jsdelivr.net/npm/live2d-widget@3.0.4/lib/L2Dwidget.min.js"></script> <style>#live2dcanvas{border:none!important}@media screen and (max-width:768px){#live2dcanvas{transform:scale(0.47)!important;transform-origin:bottom right!important}}</style> <script>var config={model:{jsonPath:"https://cdn.jsdelivr.net/gh/cc963020001/myproject@1.0/kmusume/2d-mao/hijiki.model.json"},display:{superSample:1.5,width:160,height:160,position:"right",hOffset:0,vOffset:0},mobile:{show:!0,scale:.25,motion:!0},react:{opacityDefault:1,opacityOnHover:.75}};L2Dwidget.init(config);</script> <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script> <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/js/bootstrap.bundle.min.js" integrity="sha256-fgLAgv7fyCGopR/gBNq2iW3ZKIdqIcyshnUULC4vex8=" crossorigin="anonymous"></script> <script src="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/js/mdb.min.js" integrity="sha256-NdbiivsvWt7VYCt6hYNT3h/th9vSTL4EDWeGs5SN3DA=" crossorigin="anonymous"></script> <script defer src="https://cdn.jsdelivr.net/npm/masonry-layout@4.2.2/dist/masonry.pkgd.min.js" integrity="sha256-Nn1q/fx0H7SNLZMQ5Hw5JLaTRZp0yILA/FRexe19VdI=" crossorigin="anonymous"></script> <script defer src="https://cdn.jsdelivr.net/npm/imagesloaded@4/imagesloaded.pkgd.min.js"></script> <script defer src="/assets/js/masonry.js" type="text/javascript"></script> <script defer src="https://unpkg.com/bootstrap-table@1.21.4/dist/bootstrap-table.min.js"></script> <script src="/assets/js/no_defer.js?d633890033921b33e0ceb13d22340a9c"></script> <script defer src="/assets/js/common.js?acdb9690d7641b2f8d40529018c71a01"></script> <script defer src="/assets/js/copy_code.js?c9d9dd48933de3831b3ee5ec9c209cac" type="text/javascript"></script> <script src="/assets/js/custom-cursor.js"></script> <script async src="https://d1bxh8uas1mnw7.cloudfront.net/assets/embed.js"></script> <script async src="https://badge.dimensions.ai/badge.js"></script> <script type="text/javascript">window.MathJax={tex:{tags:"ams"}};</script> <script defer type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3.2.0/es5/tex-mml-chtml.js"></script> <script defer src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script> <script type="text/javascript">function progressBarSetup(){"max"in document.createElement("progress")?(initializeProgressElement(),$(document).on("scroll",function(){progressBar.attr({value:getCurrentScrollPosition()})}),$(window).on("resize",initializeProgressElement)):(resizeProgressBar(),$(document).on("scroll",resizeProgressBar),$(window).on("resize",resizeProgressBar))}function getCurrentScrollPosition(){return $(window).scrollTop()}function initializeProgressElement(){let e=$("#navbar").outerHeight(!0);$("body").css({"padding-top":e}),$("progress-container").css({"padding-top":e}),progressBar.css({top:e}),progressBar.attr({max:getDistanceToScroll(),value:getCurrentScrollPosition()})}function getDistanceToScroll(){return $(document).height()-$(window).height()}function resizeProgressBar(){progressBar.css({width:getWidthPercentage()+"%"})}function getWidthPercentage(){return getCurrentScrollPosition()/getDistanceToScroll()*100}const progressBar=$("#progress");window.onload=function(){setTimeout(progressBarSetup,50)};</script> </body> </html>